**scanbak模块介绍**

**项目功能简介**

这是一个在渗透测试中扫描文件敏感目录的脚本，因为渗透测试中，信息收集是很重要的一个阶段，前期信息收集的工作直接决定了渗透工作的效果，虽然现在市面上的自动化信息收集工具有很多，但是有的时候功能过于集中，这里这个脚本主要是用来扫描网站的敏感文件目录。

程序主要是实现了扫描敏感文件目录是否存在，以及当文件存在时，读出文件的大小，同时为了提高扫描的效率这里使用了多线程操作：

1.  敏感文件扫描功能：

    ![](media/image1.png){width="4.534722222222222in"
    height="2.404861111111111in"}

    图 1 url补全模块

这里对于网站敏感目录的识别方式，主要是通过在url后面加上字典中存储的常见的敏感文件目录名。

2.  敏感文件输出模块：

    ![](media/image2.png){width="3.748611111111111in"
    height="2.8715277777777777in"}

    图 2 敏感文件输出模块

这里对于文件大小的识别主要是通过信息报文中的Content-Length消息头的数据。并通过Content-Type消息头来判断文件的类型。

**程序运行方式**

程序的运行方式是通过命令行运行，这里需要传入两个参数，第一个是需要运行的程序的文件名，以及想要扫描的文件目录，如下所示：

![](media/image3.png){width="5.180555555555555in" height="1.59375in"}

图 3 命令行运行

这里为了防止输入错误，导致程序崩溃，也做了输入的检测，如果输入的参数不正确也会报错：

![](media/image4.png){width="5.763194444444444in"
height="1.1847222222222222in"}

图 4 输入报错

**程序运行截图**

这里程序运行完以后的数据会写入到当前文件夹的bak.txt文件中，为了避免有什么问题，这里我们在本地用phpstudy搭建一个web服务器测试一下：

![](media/image5.png){width="4.3590277777777775in"
height="1.8381944444444445in"}

图 5 测试网站

这里在url.txt文件中写入本地web服务器的url，然后运行程序查看结果：

![](media/image6.png){width="5.763888888888889in"
height="1.4493055555555556in"}

图 6 扫描结果

这里可以看到程序正确扫描出了我放在WWW目录下的几个敏感文件。
